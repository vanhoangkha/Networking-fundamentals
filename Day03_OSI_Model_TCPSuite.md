# NGÀY 03: OSI MODEL TCPSUITE ## 03.1 3.1 Mô hình mạng là gì? **Mô hình mạng** là khung lý thuyết phân loại và cung cấp cấu trúc cho các giao thức và tiêu chuẩn mạng. > **Giao thức** là tập hợp các quy tắc logic xác định cách các thiết bị mạng và phần mềm hoạt động và giao tiếp với nhau. ## 03.2 3.2 Mô hình OSI (Open Systems Interconnection) ## 03.3 # 3.2.1 Giới thiệu chung **Mô hình OSI** (Open Systems Interconnection Model) là: - Mô hình khái niệm phân loại và chuẩn hóa các chức năng mạng - Được phát triển bởi **ISO** (International Organization for Standardization) - Chia các chức năng mạng thành **7 tầng** (layers) - Các tầng làm việc phối hợp để đảm bảo hoạt động mạng ![image](HTTPS: //github.com/psaumur/CCNA/assets/106411237/bbf46de2 - e025 - 4ddd - b52b - 614b280598da) ## 03.4 # 3.2.2 Các quá trình xử lý dữ liệu **Đóng gói (Encapsulation)**: Dữ liệu di chuyển từ tầng trên xuống tầng dưới **Mở gói (De - encapsulation)**: Dữ liệu di chuyển từ tầng dưới lên tầng trên **Tương tác cùng tầng (Same - layer interaction)**: Các tương tác xảy ra giữa cùng một tầng trên các thiết bị khác nhau ![image](HTTPS: //github.com/psaumur/CCNA/assets/106411237/b7cf4900 - 993c - 49f0 - b6ea - 70f4f0719633) ## 03.5 # 3.2.3 Câu ghi nhớ các tầng OSI ![image](HTTPS: //github.com/psaumur/CCNA/assets/106411237/01f532f6 - b636 - 4b7c - 99d0 - a67f7e483a99) ## 03.6 3.3 Chi tiết 7 tầng của mô hình OSI ## 03.7 # 3.3.1 Tầng 7 - Ứng dụng (Tầng Ứng dụng) **Chức năng chính:** - Tầng gần nhất với người dùng cuối - Tương tác trực tiếp với các ứng dụng phần mềm - Cung cấp giao diện mạng cho ứng dụng **Các giao thức tiêu biểu:** - HTTP và HTTPS (Web browsing) - FTP (File transfer) - SMTP (Email) **Chức năng cụ thể:** - Xác định các đối tác giao tiếp - Đồng bộ hóa giao tiếp - Kiểm soát tài nguyên mạng ## 03.8 # 3.3.2 Tầng 6 - Trình bày (Tầng Trình bày) **Chức năng chính:** - Dịch dữ liệu giữa định dạng ứng dụng và định dạng mạng - Mã hóa/giải mã dữ liệu - Nén/giải nén dữ liệu - Chuyển đổi định dạng dữ liệu ## 03.9 # 3.3.3 Tầng 5 - Phiên (Tầng Phiên) **Chức năng chính:** - Kiểm soát các cuộc đối thoại (phiên) giữa các host - Thiết lập, quản lý và kết thúc kết nối - Đồng bộ hóa phiên làm việc - Quản lý checkpoint và recovery > **Lưu ý quan trọng**: Các kỹ sư mạng thường không làm việc trực tiếp với 3 tầng trên cùng (5 - 7). Các nhà phát triển ứng dụng chủ yếu làm việc với các tầng này để kết nối ứng dụng qua mạng. ## 03.10 # 3.3.4 Tầng 4 - Vận chuyển (Tầng Vận chuyển) **Chức năng chính:** - Phân đoạn và tái lắp ráp dữ liệu - Cung cấp giao tiếp **host - host** (đầu cuối đến đầu cuối) - Kiểm soát luồng dữ liệu - Kiểm soát lỗi end - end **Quá trình xử lý:** - Nhận dữ liệu từ tầng 5 - 7 - Thêm **Header tầng 4** - Tạo ra **SEGMENT** (đoạn) ``` << DỮ LIỆU + Header L4 >> ``` **Lợi ích của phân đoạn:** - Chia dữ liệu lớn thành các đoạn nhỏ - Dễ dàng truyền qua mạng - Giảm thiểu vấn đề khi có lỗi xảy ra ## 03.11 # 3.3.5 Tầng 3 - Mạng (Tầng Mạng) **Chức năng chính:** - Cung cấp kết nối giữa các host trên **các mạng khác nhau** - Cung cấp **địa chỉ logic** (địa chỉ IP) - Thực hiện **định tuyến** (định tuyến) - lựa chọn đường đi tối ưu - **router** hoạt động ở tầng này **Quá trình xử lý:** - Nhận Segment từ tầng 4 - Thêm **Header tầng 3** - Tạo ra **PACKET** (gói tin) ``` << DỮ LIỆU + Header L4 + Header L3 >> ``` ## 03.12 # 3.3.6 Tầng 2 - Liên kết dữ liệu (Tầng Liên kết dữ liệu) **Chức năng chính:** - Cung cấp kết nối **node - node** (nút đến nút) - Định nghĩa cách định dạng dữ liệu cho phương tiện vật lý - Phát hiện và sửa lỗi từ tầng vật lý - Sử dụng **địa chỉ tầng 2** (MAC address) - **switch** hoạt động ở tầng này **Quá trình xử lý:** - Nhận Packet từ tầng 3 - Thêm **Header và Trailer tầng 2** - Tạo ra **FRAME** (khung) ``` << Trailer L2 + DỮ LIỆU + Header L4 + Header L3 + Header L2 >> ``` **Ví dụ kết nối node - node:** - PC đến switch - switch đến router - router đến router ## 03.13 # 3.3.7 Tầng 1 - Vật lý (Tầng Vật lý) **Chức năng chính:** - Định nghĩa các đặc tính vật lý của phương tiện truyền - Chuyển đổi bit số thành tín hiệu vật lý - Xác định thông số kỹ thuật phần cứng **Các đặc tính được định nghĩa:** - Mức điện áp - Khoảng cách truyền tối đa - Đầu nối vật lý - Thông số kỹ thuật cáp **Chuyển đổi tín hiệu:** - **Kết nối có dây**: Bit số → Tín hiệu điện - **Kết nối không dây**: Bit số → Tín hiệu radio > **Lưu ý**: Tất cả nội dung trong Ngày 2 (Giao diện và Cáp mạng) đều liên quan đến tầng vật lý. ## 03.14 3.4 PDU (Protocol Data Unit) - Đơn vị dữ liệu giao thức ![image](HTTPS: //github.com/psaumur/CCNA/assets/106411237/9b885a51 - 91cd - 4fe6 - b1be - e7fa7aa220b5) ## 03.15 # 3.4.1 Bảng tổng hợp PDU | Tầng OSI | Tên PDU | Dữ liệu được thêm | | - - - - - - - - - - | - - - - - - - - - | - - - - - - - - - - - - - - - - - - - | | 7 - 5 | **DATA** (Dữ liệu) | Dữ liệu gốc | | 4 | **SEGMENT** (Đoạn) | Header tầng 4 | | 3 | **PACKET** (Gói tin) | Header tầng 3 | | 2 | **FRAME** (Khung) | Header và Trailer tầng 2 | | 1 | **BIT** | Tín hiệu vật lý (0 và 1) | ## 03.16 # 3.4.2 Cấu trúc cuối cùng của Frame ``` << Trailer L2 + DỮ LIỆU + Header L4 + Header L3 + Header L2 >> ``` ## 03.17 3.5 Bộ giao thức TCP/IP ## 03.18 # 3.5.1 Giới thiệu **Bộ giao thức TCP/IP** là: - Mô hình khái niệm và tập hợp giao thức thực tế được sử dụng trên Internet - Được đặt tên theo hai giao thức nền tảng:**TCP** và **IP** - Được phát triển bởi **DARPA** (Defense Advanced Research Projects Agency) - Bộ Quốc phòng Hoa Kỳ - **Mô hình thực sự được sử dụng** trong các mạng hiện đại ## 03.19 # 3.5.2 So sánh với mô hình OSI **Điểm tương đồng:** - Cấu trúc phân tầng tương tự mô hình OSI - Cùng nguyên lý đóng gói/mở gói **Điểm khác biệt:** - **Ít tầng hơn** (4 tầng thay vì 7 tầng) - **Thực tế hơn** - được triển khai trong mạng thực - **Linh hoạt hơn** trong việc ánh xạ giao thức ![image](HTTPS: //github.com/psaumur/CCNA/assets/106411237/e9593c06 - 46a3 - 4ff9 - aa01 - 863e0aeb5df3) > **Lưu ý quan trọng**: Mặc dù TCP/IP là mô hình thực tế được sử dụng, mô hình OSI vẫn có ảnh hưởng lớn đến cách các kỹ sư mạng suy nghĩ và thảo luận về mạng. ## 03.20 3.6 Tương tác giữa các tầng ![image](HTTPS: //github.com/psaumur/CCNA/assets/106411237/372c45a0 - bb3e - 4342 - af2b - 79d3606384ec) ## 03.21 # 3.6.1 Tương tác tầng liền kề (Adjacent Layer Interaction) **Định nghĩa**: Tương tác giữa các tầng khác nhau của mô hình OSI trên **cùng một host**. **Ví dụ thực tế:** - Tầng 5 - 7 gửi dữ liệu xuống tầng 4 - Tầng 4 thêm header tầng 4 → tạo ra SEGMENT - Tầng 4 gửi SEGMENT xuống tầng 3 - Tầng 3 thêm header tầng 3 → tạo ra PACKET ## 03.22 # 3.6.2 Tương tác cùng tầng (Same Layer Interaction) **Định nghĩa**: Tương tác giữa **cùng một tầng** trên các **host khác nhau**. **Lợi ích của khái niệm này:** - Cho phép tập trung vào tương tác của một tầng cụ thể - Bỏ qua các tầng khác không liên quan - Đơn giản hóa việc phân tích và troubleshooting **Ví dụ thực tế:** - Tầng ứng dụng của máy chủ web YouTube ↔ Tầng ứng dụng của trình duyệt PC - Tầng vận chuyển của server ↔ Tầng vận chuyển của client - Tầng mạng của router A ↔ Tầng mạng của router B