# 61. REST APIS API REVIEW - An API (Application Programming Giao di·ªán) is m·ªôt software Giao di·ªán that allows two applications ƒë·∫øn communicate v·ªõi each other. - APIs l√† essential not just cho M·∫°ng T·ª± ƒë·ªông h√≥a but cho all kinds c·ªßa applications - In SDN Ki·∫øn tr√∫c, APIs l√† use ƒë·∫øn communicate between apps v√† the SDN controller (via the NBI) and between the SDN controller v√† the M·∫°ng devices (via the SBI) - The NBI typically uses REST APIs - NETCONF v√† RESTCONF l√† popular Southbound APIs --- CRUD OPERATIONS v√† HTTP VERBS - CRUD ( CREATE, READ, UPDATE, DELETE) refers ƒë·∫øn the operations we perform using REST APIs - CREATE : - Used ƒë·∫øn CREATE new variables v√† set their initial values - Example: create m·ªôt variable ‚Äúip_address‚Äù and set the value to ‚Äú10.1.1.1‚Äù - READ : - Used ƒë·∫øn READ the value c·ªßa m·ªôt variable - Example: Read the value c·ªßa variable ‚Äúip_address‚Äù (‚Äù10.1.1.1‚Äù) - UPDATE : - Used ƒë·∫øn CHANGE / UPDATE the value c·ªßa m·ªôt variable - Example: Change the value of ‚Äúip_address‚Äù from ‚Äú10.1.1.1‚Äù to ‚Äú10.2.3.4‚Äù - DELETE : - Used ƒë·∫øn DELETE variables - Example: Delete variable ‚Äúip_address‚Äù - HTTP uses *verbs* (aka. methods) that map ƒë·∫øn these CRUD operations - REST APIs typically use HTTP ![image](https://github.com/psaumur/CCNA/assets/106411237/b25ca0c6-5a79-4dcc-afde-096b1868219b) --- HTTP REQUEST : - When m·ªôt HTTP client sends m·ªôt request ƒë·∫øn m·ªôt HTTP server, the HTTP Header includes information like this: - An HTTP Verb (ie: GET) - A URI (Uniform Resource Identifier) indicating the resource it l√† trying ƒë·∫øn Truy c·∫≠p ![image](https://github.com/psaumur/CCNA/assets/106411237/e859d701-50bc-475a-89ca-5267efaeaf87) An example c·ªßa m·ªôt URI (demonstrated later) ![image](https://github.com/psaumur/CCNA/assets/106411237/23dc6233-ce58-44c6-805b-05f1cbc7b933) - The HTTP request c√≥ th·ªÉ include additional headers which pass additional information ƒë·∫øn the server. Check the list at HTTPS://developer.mozilla.org/en-US/docs/Web/HTTP/Headers ![image](https://github.com/psaumur/CCNA/assets/106411237/010f553f-971d-49d8-be1b-dd0eff5854ac) - An example s·∫Ω be m·ªôt ACCEPT Header, which informs the server about the types(s) of data that c√≥ th·ªÉ be sent back ƒë·∫øn the client. - Example: **Accept: application/JSON** or **Accept: application/XML** - You c√≥ th·ªÉ also view standard HTTP Header fields v·ªõi some examples t·∫°i HTTPS://en.wikipedia.org/wiki/List_of_HTTP_header_fields - When m·ªôt REST client makes m·ªôt API call (request) to m·ªôt REST server, it s·∫Ω send m·ªôt HTTP request like the one above > üí° REST APIs do NOT have ƒë·∫øn use HTTP cho communication, although HTTP l√† the most common choice --- HTTP RESPONSE : - The server‚Äôs response s·∫Ω include m·ªôt STATUS CODE indicating if the request succeeded ho·∫∑c failed, as well as other details - The FIRST digit indicates the class c·ªßa the response: - 1xx : Informational - request was received, continuing process - 2xx : Successful - request was successfully received, understood, and accepted - 3xx : Redirection - further action needs ƒë·∫øn be taken trong order ƒë·∫øn complete the request - 4xx : Client Error - request contains bad syntax ho·∫∑c cannot be fulfilled - 5xx : Server Error - server failed ƒë·∫øn fulfill m·ªôt apparently valid request ![image](https://github.com/psaumur/CCNA/assets/106411237/1ab2d4c3-11c1-4189-9a44-ae0f6405536c) Examples c·ªßa each HTTP Response class: - 1xx Informational - 102 Processing indicates that the server received the request v√† l√† processing it but the response l√† not available yet - 2xx Successful - 200 OK **indicates that the request succeeded - 201 Created indicates the request succeeded v√† m·ªôt new resource was created - 3xx Redirection - 301 Moved Permanently indicates that the request resource has been moved v√† the server indicates its new location - 4xx Client Error - 403 Unauthorized means the client ph·∫£i authenticate ƒë·∫øn get m·ªôt response - 404 Not Found means the requested resource was not found - 5xx Server Error - 500 Internal Server Error means the server encountered something unexpected that it doesn‚Äôt know C√°ch handle --- REST APIs - REST stands cho Representational State Transfer - REST APIs l√† also know as REST-based APIs ho·∫∑c RESTful APIs - REST isn‚Äôt m·ªôt specific API. Instead it describes m·ªôt set c·ªßa rules about how the API n√™n work - The SIX constraints c·ªßa RESTful Ki·∫øn tr√∫c are: - Stateless - Layered system - Uniform Giao di·ªán - Client-Server - Cacheable ho·∫∑c non-cacheable - Code-on-Demand (optional) - For applications ƒë·∫øn communicate over m·ªôt M·∫°ng, networking protocols ph·∫£i be used ƒë·∫øn facilitate those communications - For REST APIs, HTTP(S) is the most common choice --- REST: Client-Server - REST APIs use m·ªôt client-server Ki·∫øn tr√∫c - The client uses API calls (HTTP requests) to Truy c·∫≠p the resources tr√™n the server - The separation between the client v√† server means they c√≥ th·ªÉ both change v√† evolve independently c·ªßa each other - When the client application changes ho·∫∑c the server application changes, the Giao di·ªán between them ph·∫£i not break ![image](https://github.com/psaumur/CCNA/assets/106411237/e39d0588-8e4c-441b-97b9-c2345bf09342) --- REST: Stateless - REST APIs exchanges l√† STATELESS - This means that each API exchange l√† m·ªôt separate event, independent c·ªßa all past exchanges between the client v√† server - The server does not store information about previous requests t·ª´ the client ƒë·∫øn determine how it n√™n respond ƒë·∫øn new requests - If X√°c th·ª±c l√† required, this means that the client ph·∫£i authenticate v·ªõi the server cho each request it makes - TCP l√† m·ªôt example c·ªßa m·ªôt STATEFUL Giao th·ª©c - UDP l√† m·ªôt example of STATELESS Giao th·ª©c ** Although REST APIs use HTTP, which uses TCP (STATEFUL) as it‚Äôs LAYER 4 Giao th·ª©c, HTTP v√† REST APIs themselves aren‚Äôt STATEFUL. The functions c·ªßa each layer l√† separate ! --- REST: Cacheable ho·∫∑c Non-Cacheable - REST APIs ph·∫£i support caching c·ªßa data - *Caching* refers ƒë·∫øn storing data cho future use - Example : - Your computer c√≥ th·ªÉ cache many elements c·ªßa m·ªôt web page so it doesn‚Äôt have ƒë·∫øn retrieve the entire page every time you visit. This improves performance cho the client v√† reduces load tr√™n the server - Not all resources have ƒë·∫øn be cacheable but cacheable resources ph·∫£i be declared as cacheable FOR THE CCNA ![image](https://github.com/psaumur/CCNA/assets/106411237/d3747417-a936-498c-99d3-f508d436d451) --- REST API CALLS USING CISCO DEVNET - ‚ÄúCisco DevNet l√† Cisco‚Äôs developer program ƒë·∫øn help developers v√† IT professionals who want ƒë·∫øn write applications v√† develop integrations v·ªõi Cisco products, platforms, and API‚Äôs‚Äù - DevNet offers lots c·ªßa free resources such as courses, tutorials, labs, sandboxes, documentation, etc ƒë·∫øn learn about T·ª± ƒë·ªông h√≥a v√† develop your skills - There l√† also m·ªôt DevNet certification track that you c√≥ th·ªÉ pursue if you l√† interested trong T·ª± ƒë·ªông h√≥a - We s·∫Ω use their Cisco DNA Center Sandbox ƒë·∫øn send m·ªôt REST API call using Postman - DNA Center l√† one c·ªßa Cisco‚Äôs SDN Controllers (covered trong more detail later) - Postman l√† m·ªôt platform cho building m·ªôt using APIs --- TO START: - Make m·ªôt account on [developer.cisco.com](HTTP://developer.cisco.com) (Used my NetAcademy login) - Make m·ªôt accounts on [postman.com](HTTP://postman.com) and download the desktop app (HTTPS://www.postman.com/downloads) - Used my [gmail.com](HTTP://gmail.com) account 