# NGÃ€Y 33: IPV6 PART2

# 32. IPv6: PART 2 IPv6 Äá»‹a chá»‰ Cáº¥u hÃ¬nh (EUI-64) - EUI stands cho Extended Unique Identifier - (Modified) EUI-64 lÃ  method cá»§a converting má»™t Äá»‹a chá»‰ MAC (48-bits) into má»™t 64-bit Giao diá»‡n identifier - This Giao diá»‡n identifier cÃ³ thá»ƒ then become the â€œHOST portionâ€ of a /64 IPv6 Äá»‹a chá»‰! [image](https: //github. com/psaumur/CCNA/assets/106411237/bee8f7bf-3877-4307-9ca7-863af19aae6c) EUI-64 PRACTICE: ``` 782B CBAC 0867 >>> 782B CB || AC 0867 782B CBFF FEAC 0867 8 is the 7th bit so 1000 inverted becomes 1010 = A in hex so the EUI-64 Interface Identifier is: 7A2B CBFF FEAC 0867 ```! [image](https: //github. com/psaumur/CCNA/assets/106411237/d4e90146-8c71-4c6c-b5aa-a9077bde2caf) --- CONFIGURING IPv6 ADDRESSES vá»›i EUI-64! [image](https: //github. com/psaumur/CCNA/assets/106411237/e6c6da0b-def4-4764-a0a1-3f64855f319f)! [image](https: //github. com/psaumur/CCNA/assets/106411237/bff1b2bc-9944-451a-972a-f8b3bd5f76ea)! [image](https: //github. com/psaumur/CCNA/assets/106411237/4c69d97a-a611-4a94-9e11-9016ec456819) NOTE the â€œ2001: DB8â€¦â€ Äá»‹a chá»‰ has â€œEâ€ changed to â€œcâ€. This lÃ  the 7th bit getting flipped (1110 Ä‘áº¿n 1100 = 12 = hex â€˜Câ€™) --- WHY INVERT THE 7th BIT? - MAC addresses cÃ³ thá»ƒ be divided into TWO TYPES: - UAA (Universally Administered Äá»‹a chá»‰) - Uniquely assigned Ä‘áº¿n the Thiáº¿t bá»‹ cá»§a the manufacturer - LAA (Locally Administered Äá»‹a chá»‰) - Manually assigned bá»Ÿi má»™t Admin (with the mac-Äá»‹a chá»‰ Lá»‡nh trÃªn the Giao diá»‡n) or Giao thá»©c. Doesnâ€™t have Ä‘áº¿n be globally unique. - You cÃ³ thá»ƒ INDENTIFY má»™t UAA hoáº·c LAA bá»Ÿi the 7th bit cá»§a the Äá»‹a chá»‰ MAC. called the U/L bit (Universal/Local bit) - U/L bit set Ä‘áº¿n 0 = UAA - U/L bit set Ä‘áº¿n 1 = LAA - In the context cá»§a IPv6 addresses/EUI-64, the meaning cá»§a the U/L bit lÃ  reversed: - U/L bit set Ä‘áº¿n 0 = The Äá»‹a chá»‰ MAC the EUI-64 Giao diá»‡n ID was made tá»« was má»™t LAA - U/L bit set Ä‘áº¿n 1 = The Äá»‹a chá»‰ MAC the EUI-64 Giao diá»‡n ID was made tá»« was má»™t UAA --- IPv6 Äá»‹a chá»‰ TYPES 1) GLOBAL Unicast ADDRESSES - **Global Unicast** IPv6 ADDRESSES lÃ  PUBLIC ADDRESSES which cÃ³ thá»ƒ be used over the Internet - Must REGISTER Ä‘áº¿n use them. - They lÃ  PUBLIC ADDRESSES so need Ä‘áº¿n be GLOBALLY UNIQUE ğŸ’¡ Originally defined as the 2000: : /3 block (2000: : to 3FFF: FFFF: FFFF: FFFF: FFFF: FFFF: FFFF: FFFF) - NOW defined as ALL ADDRESSES which lÃ  not RESERVED cho other purposes Remember THESE THREE PARTS cá»§a má»™t GLOBAL Unicast Äá»‹a chá»‰! [image](https: //github. com/psaumur/CCNA/assets/106411237/c5552f0e-eca2-4069-a656-611b5c196402) --- 2) UNIQUE LOCAL ADDRESSES - **Unique Local** IPv6 ADDRESSES lÃ  PRIVATE ADDRESSES which cannot be used over the Internet - You do NOT need Ä‘áº¿n REGISTER Ä‘áº¿n use them - Can be used FREELY within INTERNAL NETWORKS - Do NOT need Ä‘áº¿n be GLOBALLY UNIQUE (*) - CANNOT be ROUTED over the Internet <aside> ğŸ’¡ Uses the Äá»‹a chá»‰ block FC00: : /7 (FC00: : to FDFF: FFFF: FFFF: FFFF: FFFF: FFFF: FFFF: FFFF) </aside> - A later UPDATE required the 8th bit Ä‘áº¿n be set Ä‘áº¿n 1 so the FIRST TWO DIGITS pháº£i be FD (*) The GLOBAL ID nÃªn be UNIQUE so that ADDRESSES donâ€™t overlap when companies MERGE! [image](https: //github. com/psaumur/CCNA/assets/106411237/6e6f8af9-ee53-4e0d-90ec-9e137b10c851) --- 3) LINK-LOCAL ADDRESSES - **Link-Local** IPv6 ADDRESSES lÃ  AUTOMATICALLY generated trÃªn IPv6-enabled INTERFACES - Use Lá»‡nh `R1(config-if)# IPv6 enable` trÃªn má»™t Giao diá»‡n Ä‘áº¿n KÃ­ch hoáº¡t IPv6 trÃªn má»™t Giao diá»‡n <aside> ğŸ’¡ Uses the Äá»‹a chá»‰ block FE80: : /10 (FE80: : to FEBF: FFFF: FFFF: FFFF: FFFF: FFFF: FFFF: FFFF) </aside> - The STANDARD states that the 54-bits AFTER FE80/10 nÃªn be ALL 0â€™s so you wonâ€™t see Link-Local ADDRESSES beginning vá»›i FE9. FEA, or FEB - ONLY FE8(! ) - The Giao diá»‡n ID lÃ  generated using EUI-64 rules - Link-Local means that these addresses lÃ  used cho communication within má»™t single link (Máº¡ng con) - router sáº½ not Tuyáº¿n Ä‘Æ°á»ng PACKETS vá»›i má»™t Link-Local DESTINATION IPv6 Äá»‹a chá»‰ - Common uses cá»§a Link-Local Addresses: - Äá»‹nh tuyáº¿n Giao thá»©c Peerings (OSPFv3 uses Link-Local Addresses cho Neighbour Adjacencies) - NEXT-HOP Äá»‹a chá»‰ cho STATIC ROUTES - Neighbor Discovery Giao thá»©c (NDP. IPv6â€™s replacement cho ARP) uses Link-Local ADDRESSES Ä‘áº¿n function Máº¡ng using Link-Local Addresses for â€œnext-hopâ€ Äá»‹nh tuyáº¿n! [image](https: //github. com/psaumur/CCNA/assets/106411237/7d74c4fb-ef52-4436-8285-77ab571f2964) --- 4) Multicast ADDRESSES - **Unicast Addresses** are one-to-one - ONE SOURCE Ä‘áº¿n ONE DESTINATION - ***Broadcast*** Addresses lÃ  one-to-all - ONE SOURCE Ä‘áº¿n ALL DESTINATIONS (within the Máº¡ng con) - **Multicast** Addresses lÃ  one-to-many - ONE SOURCE Ä‘áº¿n MULTIPLE DESTINATIONS (that have joined the specific ***Multicast*** group) <aside> ğŸ’¡ IPv6 uses range FF00: : /8 cho Multicast (FF00: : to FFFF: FFFF: FFFF: FFFF: FFFF: FFFF: FFFF: FFFF) </aside> - **IPv6 doesnâ€™t use Broadcast** (there lÃ  NO â€œBroadcast Äá»‹a chá»‰â€ in IPv6! ) YOU pháº£i KNOW THE Multicast Äá»‹a chá»‰ cho EACH router TYPE LÆ°u Ã½ ráº±ng the IPv6 vÃ  IPv4 Addresses share the same last digit! [image](https: //github. com/psaumur/CCNA/assets/106411237/e5efcdd7-5d7d-4020-a179-07ba267bf5ab) Multicast Äá»‹a chá»‰ SCOPES - IPv6 defines multiple Multicast â€˜scopesâ€™ which indicate how far the GÃ³i tin nÃªn be forwarded - The Äá»‹a chá»‰ trong the previous slide all use the â€˜link-localâ€™ scope (FF02). which stays trong the LOCAL Máº¡ng con **IPv6 Multicast Scope Types: ** - **Giao diá»‡n-Local (FF01)** - The GÃ³i tin doesnâ€™t leave the LOCAL Thiáº¿t bá»‹ - Can be used Ä‘áº¿n SEND traffic Ä‘áº¿n má»™t SERVICE within the LOCAL Thiáº¿t bá»‹ - **Link-Local (FF02)** - The GÃ³i tin remains trong the LOCAL Máº¡ng con - ROUTERS sáº½ not Tuyáº¿n Ä‘Æ°á»ng the GÃ³i tin between SUBNETS - **Site-Local (FF05)** - The GÃ³i tin cÃ³ thá»ƒ be forwarded bá»Ÿi ROUTERS - Should be limited Ä‘áº¿n má»™t SINGLE PHYSICAL LOCATION (not forwarded over má»™t WAN) - **Organization-Local (FF08)** - Wider trong scope than Site-Local (an entire company / ORGANIZATION) - **Global (FF0E)** - No boundaries - Possible Ä‘áº¿n be ROUTED over the Internet! [image](https: //github. com/psaumur/CCNA/assets/106411237/5d5f2d6e-3e21-4ab7-bf8e-dec5d12b6eed) 5) ANYCAST Äá»‹a chá»‰ - **ANYCAST lÃ  NEW feature cá»§a IPv6** - ANYCAST is â€˜one-to-one-of-manyâ€™ - Multiple ROUTERS lÃ  configured vá»›i the SAME IPv6 Äá»‹a chá»‰ - They use má»™t Äá»‹nh tuyáº¿n Giao thá»©c Ä‘áº¿n advertise the Äá»‹a chá»‰ - When HOSTS sends PACKETS Ä‘áº¿n that DESTINATION Äá»‹a chá»‰. ROUTERS sáº½ forward it Ä‘áº¿n the NEAREST router configured vá»›i THAT Äá»‹a chá»‰ IP (based trÃªn Äá»‹nh tuyáº¿n Metric) - There lÃ  NO SPECIFIC Äá»‹a chá»‰ range cho ANYCAST ADDRESSES. - Use má»™t regular Unicast (Global Unicast, Unique Local) and specify THAT as má»™t ANYCAST Äá»‹a chá»‰ - `R1(config-if)# IPv6 address 2000: db8: 1: 1: : 99/128 anycast`! [image](https: //github. com/psaumur/CCNA/assets/106411237/71729af9-6c02-49bd-b290-af7f5009bd6e) 6) OTHER IPv6 ADDRESSES - The: : Äá»‹a chá»‰ = The *unspecified* IPv6 Äá»‹a chá»‰ - Can be used when má»™t Thiáº¿t bá»‹ doesnâ€™t yet know its IPv6 Äá»‹a chá»‰ - IPv6 Default ROUTES lÃ  configured to: : /0 - IPv4 equivalent: 0. 0. 0. 0 - The: : 1 Äá»‹a chá»‰ = The Loopback Äá»‹a chá»‰ - Used Ä‘áº¿n test the Giao thá»©c STACK trÃªn the LOCAL Thiáº¿t bá»‹ - Messages sent Ä‘áº¿n THIS Äá»‹a chá»‰ lÃ  processed within the LOCAL Thiáº¿t bá»‹ but not SENT Ä‘áº¿n other DEVICES - IPv4 equivalent: 127. 0. 0. 0 /8 Äá»‹a chá»‰ range