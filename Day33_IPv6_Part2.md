# NGÀY 33: IPV6 PART2

# 32. IPv6: PART 2 IPv6 Địa chỉ Cấu hình (EUI-64) - EUI stands cho Extended Unique Identifier - (Modified) EUI-64 là method của converting một Địa chỉ MAC (48-bits) into một 64-bit Giao diện identifier - This Giao diện identifier có thể then become the “HOST portion” of a /64 IPv6 Địa chỉ! [image](https: //github. com/psaumur/CCNA/assets/106411237/bee8f7bf-3877-4307-9ca7-863af19aae6c) EUI-64 PRACTICE: ``` 782B CBAC 0867 >>> 782B CB || AC 0867 782B CBFF FEAC 0867 8 is the 7th bit so 1000 inverted becomes 1010 = A in hex so the EUI-64 Interface Identifier is: 7A2B CBFF FEAC 0867 ```! [image](https: //github. com/psaumur/CCNA/assets/106411237/d4e90146-8c71-4c6c-b5aa-a9077bde2caf) --- CONFIGURING IPv6 ADDRESSES với EUI-64! [image](https: //github. com/psaumur/CCNA/assets/106411237/e6c6da0b-def4-4764-a0a1-3f64855f319f)! [image](https: //github. com/psaumur/CCNA/assets/106411237/bff1b2bc-9944-451a-972a-f8b3bd5f76ea)! [image](https: //github. com/psaumur/CCNA/assets/106411237/4c69d97a-a611-4a94-9e11-9016ec456819) NOTE the “2001: DB8…” Địa chỉ has “E” changed to “c”. This là the 7th bit getting flipped (1110 đến 1100 = 12 = hex ‘C’) --- WHY INVERT THE 7th BIT? - MAC addresses có thể be divided into TWO TYPES: - UAA (Universally Administered Địa chỉ) - Uniquely assigned đến the Thiết bị của the manufacturer - LAA (Locally Administered Địa chỉ) - Manually assigned bởi một Admin (with the mac-Địa chỉ Lệnh trên the Giao diện) or Giao thức. Doesn’t have đến be globally unique. - You có thể INDENTIFY một UAA hoặc LAA bởi the 7th bit của the Địa chỉ MAC. called the U/L bit (Universal/Local bit) - U/L bit set đến 0 = UAA - U/L bit set đến 1 = LAA - In the context của IPv6 addresses/EUI-64, the meaning của the U/L bit là reversed: - U/L bit set đến 0 = The Địa chỉ MAC the EUI-64 Giao diện ID was made từ was một LAA - U/L bit set đến 1 = The Địa chỉ MAC the EUI-64 Giao diện ID was made từ was một UAA --- IPv6 Địa chỉ TYPES 1) GLOBAL Unicast ADDRESSES - **Global Unicast** IPv6 ADDRESSES là PUBLIC ADDRESSES which có thể be used over the Internet - Must REGISTER đến use them. - They là PUBLIC ADDRESSES so need đến be GLOBALLY UNIQUE 💡 Originally defined as the 2000: : /3 block (2000: : to 3FFF: FFFF: FFFF: FFFF: FFFF: FFFF: FFFF: FFFF) - NOW defined as ALL ADDRESSES which là not RESERVED cho other purposes Remember THESE THREE PARTS của một GLOBAL Unicast Địa chỉ! [image](https: //github. com/psaumur/CCNA/assets/106411237/c5552f0e-eca2-4069-a656-611b5c196402) --- 2) UNIQUE LOCAL ADDRESSES - **Unique Local** IPv6 ADDRESSES là PRIVATE ADDRESSES which cannot be used over the Internet - You do NOT need đến REGISTER đến use them - Can be used FREELY within INTERNAL NETWORKS - Do NOT need đến be GLOBALLY UNIQUE (*) - CANNOT be ROUTED over the Internet <aside> 💡 Uses the Địa chỉ block FC00: : /7 (FC00: : to FDFF: FFFF: FFFF: FFFF: FFFF: FFFF: FFFF: FFFF) </aside> - A later UPDATE required the 8th bit đến be set đến 1 so the FIRST TWO DIGITS phải be FD (*) The GLOBAL ID nên be UNIQUE so that ADDRESSES don’t overlap when companies MERGE! [image](https: //github. com/psaumur/CCNA/assets/106411237/6e6f8af9-ee53-4e0d-90ec-9e137b10c851) --- 3) LINK-LOCAL ADDRESSES - **Link-Local** IPv6 ADDRESSES là AUTOMATICALLY generated trên IPv6-enabled INTERFACES - Use Lệnh `R1(config-if)# IPv6 enable` trên một Giao diện đến Kích hoạt IPv6 trên một Giao diện <aside> 💡 Uses the Địa chỉ block FE80: : /10 (FE80: : to FEBF: FFFF: FFFF: FFFF: FFFF: FFFF: FFFF: FFFF) </aside> - The STANDARD states that the 54-bits AFTER FE80/10 nên be ALL 0’s so you won’t see Link-Local ADDRESSES beginning với FE9. FEA, or FEB - ONLY FE8(! ) - The Giao diện ID là generated using EUI-64 rules - Link-Local means that these addresses là used cho communication within một single link (Mạng con) - router sẽ not Tuyến đường PACKETS với một Link-Local DESTINATION IPv6 Địa chỉ - Common uses của Link-Local Addresses: - Định tuyến Giao thức Peerings (OSPFv3 uses Link-Local Addresses cho Neighbour Adjacencies) - NEXT-HOP Địa chỉ cho STATIC ROUTES - Neighbor Discovery Giao thức (NDP. IPv6’s replacement cho ARP) uses Link-Local ADDRESSES đến function Mạng using Link-Local Addresses for “next-hop” Định tuyến! [image](https: //github. com/psaumur/CCNA/assets/106411237/7d74c4fb-ef52-4436-8285-77ab571f2964) --- 4) Multicast ADDRESSES - **Unicast Addresses** are one-to-one - ONE SOURCE đến ONE DESTINATION - ***Broadcast*** Addresses là one-to-all - ONE SOURCE đến ALL DESTINATIONS (within the Mạng con) - **Multicast** Addresses là one-to-many - ONE SOURCE đến MULTIPLE DESTINATIONS (that have joined the specific ***Multicast*** group) <aside> 💡 IPv6 uses range FF00: : /8 cho Multicast (FF00: : to FFFF: FFFF: FFFF: FFFF: FFFF: FFFF: FFFF: FFFF) </aside> - **IPv6 doesn’t use Broadcast** (there là NO “Broadcast Địa chỉ” in IPv6! ) YOU phải KNOW THE Multicast Địa chỉ cho EACH router TYPE Lưu ý rằng the IPv6 và IPv4 Addresses share the same last digit! [image](https: //github. com/psaumur/CCNA/assets/106411237/e5efcdd7-5d7d-4020-a179-07ba267bf5ab) Multicast Địa chỉ SCOPES - IPv6 defines multiple Multicast ‘scopes’ which indicate how far the Gói tin nên be forwarded - The Địa chỉ trong the previous slide all use the ‘link-local’ scope (FF02). which stays trong the LOCAL Mạng con **IPv6 Multicast Scope Types: ** - **Giao diện-Local (FF01)** - The Gói tin doesn’t leave the LOCAL Thiết bị - Can be used đến SEND traffic đến một SERVICE within the LOCAL Thiết bị - **Link-Local (FF02)** - The Gói tin remains trong the LOCAL Mạng con - ROUTERS sẽ not Tuyến đường the Gói tin between SUBNETS - **Site-Local (FF05)** - The Gói tin có thể be forwarded bởi ROUTERS - Should be limited đến một SINGLE PHYSICAL LOCATION (not forwarded over một WAN) - **Organization-Local (FF08)** - Wider trong scope than Site-Local (an entire company / ORGANIZATION) - **Global (FF0E)** - No boundaries - Possible đến be ROUTED over the Internet! [image](https: //github. com/psaumur/CCNA/assets/106411237/5d5f2d6e-3e21-4ab7-bf8e-dec5d12b6eed) 5) ANYCAST Địa chỉ - **ANYCAST là NEW feature của IPv6** - ANYCAST is ‘one-to-one-of-many’ - Multiple ROUTERS là configured với the SAME IPv6 Địa chỉ - They use một Định tuyến Giao thức đến advertise the Địa chỉ - When HOSTS sends PACKETS đến that DESTINATION Địa chỉ. ROUTERS sẽ forward it đến the NEAREST router configured với THAT Địa chỉ IP (based trên Định tuyến Metric) - There là NO SPECIFIC Địa chỉ range cho ANYCAST ADDRESSES. - Use một regular Unicast (Global Unicast, Unique Local) and specify THAT as một ANYCAST Địa chỉ - `R1(config-if)# IPv6 address 2000: db8: 1: 1: : 99/128 anycast`! [image](https: //github. com/psaumur/CCNA/assets/106411237/71729af9-6c02-49bd-b290-af7f5009bd6e) 6) OTHER IPv6 ADDRESSES - The: : Địa chỉ = The *unspecified* IPv6 Địa chỉ - Can be used when một Thiết bị doesn’t yet know its IPv6 Địa chỉ - IPv6 Default ROUTES là configured to: : /0 - IPv4 equivalent: 0. 0. 0. 0 - The: : 1 Địa chỉ = The Loopback Địa chỉ - Used đến test the Giao thức STACK trên the LOCAL Thiết bị - Messages sent đến THIS Địa chỉ là processed within the LOCAL Thiết bị but not SENT đến other DEVICES - IPv4 equivalent: 127. 0. 0. 0 /8 Địa chỉ range