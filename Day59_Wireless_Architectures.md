# 56. KHÔNG DÂY ARCHITECTURES 802.11 MESSAGE / Khung FORMAT ![image](https://github.com/psaumur/CCNA/assets/106411237/7b459483-7156-44cf-9ee7-f9391e476636) - 802.11 FRAMES have một different format than 802.3 Ethernet FRAMES - For the CCNA, you don’t have đến learn it trong as much detail as the Ethernet và IP HEADERS - Depending trên the 802.11 VERSION và the MESSAGE TYPE, some của the fields có thể not be present trong the Khung - Ví dụ: Not ALL messages use all 4 Địa chỉ FIELDS - Khung Kiểm soát - Provides information such as MESSAGE TYPE và SUBTYPE - Indicates if the Khung là một Quản lý Khung - DURATION / ID - Depending trên the MESSAGE TYPE, this field có thể indicate: - The TIME (in microseconds) the CHANNEL sẽ be dedicated đến transmission của the Khung - Identifier cho the ASSOCIATION (the connection) - ADDRESSES - Up đến FOUR ADDRESSES có thể be present trong một 802.11 Khung. - Which ADDRESSES là present, and their ORDER, depends trên the MESSAGE TYPE - DESTINATION Địa chỉ (DA) : Final RECIPIENT của the Khung - SOURCE Địa chỉ (SA) : Original SENDER của the Khung - RECEIVER Địa chỉ (RA) : Immediate RECIPIENT của the Khung - TRANSMITTER Địa chỉ (TA) : Immediate SENDER của the Khung - SEQUENCE Kiểm soát - Used đến reassemble FRAGMENTS và eliminate DUPLICATE FRAMES - QoS Kiểm soát - Used trong QoS đến PRIORITIZE certain traffic - HT (High Throughput) Kiểm soát - Added trong 802.11n đến Kích hoạt High Throughput operations - 802.11n là also known as “HIGH THROUGHPUT” (HT) WI-FI - 802.11ac là also know as “VERY HIGH THROUGHPUT” (VHT) WI-FI - FCS (Khung CHECK SEQUENCE) - Same as trong một Ethernet Khung, used đến check cho errors --- 802.11 ASSOCIATION PROCESS - Truy cập POINTS Bridge traffic between Không dây STATIONS và other DEVICES - For một STATION đến send traffic through the AP, it phải be associated với the AP - There là THREE 802.11 CONNECTION STATES: - NOT AUTHENTICATED, NOT ASSOCIATED - AUTHENTICATED, NOT ASSOCIATED - AUTHENTICATED và ASSOCIATED - The STATION phải be AUTHENTICATED và ASSOCIATED với the AP đến send traffic through it ![image](https://github.com/psaumur/CCNA/assets/106411237/568d795d-41ee-4afd-908d-858297e89c6c) --- 802.11 MESSAGE TYPES - There là THREE 802.11 MESSAGE TYPES - Quản lý - Kiểm soát - DATA - Quản lý - Used đến manage the BSS - BEACON - PROBE REQUEST / PROBE RESPONSE - Xác thực - ASSOCIATION REQUEST / ASSOCIATION RESPONSE - Kiểm soát - Used đến Kiểm soát Truy cập đến the medium (RADIO FREQUENCY) - Assists với delivery của Quản lý và DATA FRAMES - RTS (REQUEST đến SEND) - CTS (CLEAR đến SEND) - ACK - DATA - Used đến send actual DATA PACKETS --- AUTONOMOUS APs - AUTONOMOUS APs là self-contained SYSTEMS that do NOT RELY trên một WLC - AUTONOMOUS APs là configured individually - Can be configured bởi CONSOLE Cáp (CLI) - Can be configured bởi Telnet (CLI) - Can be configured bởi HTTP / HTTPS Web connection (GUI) - An Địa chỉ IP cho REMOTE Quản lý nên be configured - The RF PARAMETERS phải be manually configured (Transmit Power, Channel, etc) - Bảo mật POLICIES là handled individually bởi each AP - QoS RULES etc. are configured individually bởi each AP - There là NO CENTRAL Giám sát hoặc Quản lý của APs ![image](https://github.com/psaumur/CCNA/assets/106411237/57faecbb-36a6-424d-b019-52994a5740db) - AUTONOMOUS APs connect đến the WIRED Mạng với một Trunk link - DATA traffic từ Không dây CLIENTS have một very direct PATH đến the WIRED Mạng hoặc đến other Không dây CLIENTS associated với the same AP - Each VLAN has đến STRETCH across the entire Mạng. This là considered BAD practice - Large Broadcast Domains - Spanning Tree sẽ Vô hiệu hóa links - Adding / Deleting VLANs là VERY labor-intensive - AUTONOMOUS APs có thể be used trong SMALL NETWORKS but they là not viable trong MEDIUM đến LARGE NETWORKS - LARGE NETWORKS có thể have thousands của APs - AUTONOMOUS APs có thể also function trong the modes covered trong the previous video: - REPEATER - OUTDOOR Bridge - WORKGROUP Bridge --- LIGHTWEIGHT APs - The functions của một AP có thể be split between the AP và một Không dây LAN CONTROLLER (WLC) - The là là gì called SPLIT-MAC Kiến trúc - LIGHTWEIGHT APs handle **“real-time”** operations like: - TRANSMITTING / RECEIVING RF TRAFFIC - Mã hóa / DECRYPTION của TRAFFIC - SENDING OUT BEACONS / PROBES - Gói tin PRIORITIZATION - Etc… - WLC Functions (not time dependent) - RF Quản lý - Bảo mật / QoS Quản lý - CLIENT Xác thực - CLIENT ASSOCIATION / ROAMING Quản lý - RESOURCE ALLOCATION - Etc… - The WLC là also used đến centrally configured the lightweight APs - The WLC có thể be located trong the same Mạng con / VLAN as the lightweight APs it manages hoặc trong một different Mạng con / VLAN - The WLC và the lightweight APs AUTHENTICATE each other using DIGITAL CERTIFICATES installed trên each Thiết bị ( X.509 STANDARD CERTIFICATES ) - This ensures that only AUTHORIZED APs có thể join the Mạng ![image](https://github.com/psaumur/CCNA/assets/106411237/c154bcad-ae81-4fb8-9acf-56913dffaf04) - THE WLC và lightweight APs use một Giao thức called CAPWAP (Kiểm soát và PROVISIONING của Không dây Truy cập POINTS) to communicate - Based trên một older Giao thức called LWAPP (LIGHTWEIGHT Điểm truy cập Giao thức) - TWO TUNNELS là created between each AP và the WLC : - Kiểm soát TUNNEL (UDP Cổng 5246) - This TUNNEL là used đến configure the APs và Kiểm soát và manage operations - All traffic trong this TUNNEL là ENCRYPTED, by Default - DATA TUNNEL (UDP Cổng 5247) - All traffic từ Không dây CLIENTS là sent through this TUNNEL đến the WLC - IT DOES NOT GO DIRECTLY đến THE WIRED Mạng ! - Traffic trong this TUNNEL là not ENCRYPTED bởi Default but you có thể configure it đến be ENCRYPTED với DTLS (DATAGRAM TRANSPORT LAYER Bảo mật) - Because ALL traffic từ WIRELSS CLIENTS là TUNNELED đến the WLC với CAPWAP, APs connect đến the Switch Truy cập PORTS - NOT Trunk PORTS ![image](https://github.com/psaumur/CCNA/assets/106411237/10917a40-468a-4ea6-8253-bf229d612af1) --- *** (Not necessary đến MEMORIZE cho CCNA) *** There là some KEY BENEFITS đến SPLIT-MAC Kiến trúc - SCALABILITY - With một WLC (or multiple) it’s SIMPLER đến build và support một Mạng với thousands của APs - DYNAMIC CHANNEL ASSIGNMENT - The WLC có thể automatically select which channel each AP nên use - TRANSMIT POWER OPTIMIZATION - The WLC có thể automatically set the appropriate transmit power cho each AP - SELF-HEALING Không dây COVERAGE - When một AP stops functioning, the WLC có thể increase the transmit power của nearby APs đến avoid coverage holes - SEAMLESS ROAMING - CLIENTS có thể roam between APs với no noticeable delay - CLIENT LOAD BALANCING - If một CLIENT là trong range của TWO APs, the WLC có thể associate the CLIENT với the least-used AP, to balance the load among APs - Bảo mật / QoS Quản lý - Central Quản lý của Bảo mật và QoS policies ensures consistency across the Mạng --- - LIGHTWEIGHT APs có thể be configured đến operate trong VARIOUS MODES: - LOCAL - This là the Default mode where the AP offers một BSS (more multiple BSSs) for CLIENTS đến associate with - FLEXCONNECT - Like một LIGHTWEIGHT AP trong LOCAL mode, it offers ONE hoặc MORE BSSs cho CLIENTS đến associate with - HOWEVER, FLEXCONNECT allows the AP đến locally Switch traffic between the WIRED (Trunk) and Không dây NETWORKS (Truy cập) if the TUNNELS đến the WLC go down ![image](https://github.com/psaumur/CCNA/assets/106411237/aa2d7d98-2d6f-46b6-ab38-7acc96c8dc52) - SNIFFER - The AP does NOT OFFER một BSS cho CLIENTS - Dedicated đến CAPTURING 802.11 FRAMES và SENDING them đến một Thiết bị running software such as WIRESHARK - MONITOR - The AP does NOT OFFER một BSS cho CLIENTS - Dedicated đến RECEIVING 802.11 FRAMES đến detect ROGUE DEVICES - If một CLIENT là found đến be một ROGUE Thiết bị, an AP có thể send DE-Xác thực MESSAGES đến disassociate the ROGUE Thiết bị từ the AP - ROGUE DETECTOR - The AP does not even USE its RADIO - It LISTENS đến traffic trên the WIRED Mạng only, but it receives một list của SUSPECTED ROGUE CLIENTS và AP MAC ADDRESSES từ the WLC - By LISTENING đến ARP MESSAGES trên the WIRED Mạng và correlating it với the information it receives từ the WLC, it có thể DETECT ROGUE DEVICES - SE-CONNECT (SPECTRUM EXPERT CONNECT) - The AP does NOT OFFER một BSS cho CLIENTS - Dedicated đến RF SPECTRUM ANALYSIS trên ALL CHANNELS - It có thể send information đến software such as Cisco Spectrum Expert trên một PC đến COLLECT và ANALYZE the DATA - Bridge / MESH - Like the AUTONOMOUS APs *OUTDOOR Bridge* mode, the LIGHTWEIGHT AP có thể be một DEDICATED Bridge between SITES (Example: over LONG distances) - A MESH có thể be made between the Truy cập POINTS - FLEX PLUS Bridge - Adds FLEXCONNECT functionality đến the Bridge / MESH mode - Allows Không dây Truy cập POINTS đến locally forward traffic even if connectivity đến the WLC là lost ![image](https://github.com/psaumur/CCNA/assets/106411237/940a414b-208f-408c-a3e2-37e3bfbb0d32) --- CLOUD-BASED APs - CLOUD-BASED AP Kiến trúc là between AUTONOMOUS AP và SPLIT-MAC Kiến trúc - AUTONOMOUS APs that là centrally managed trong the CLOUD - CISCO MERAKI là một popular CLOUD-BASED WI-FI solution - The MERAKI dashboard có thể be used đến configure APs, monitor the Mạng, generate performance reports, etc. - MERAKI also tells each AP which CHANNEL đến use, what transmit power, etc. - However, DATA TRAFFIC là not sent đến the CLOUD. It là sent directly đến the WIRED Mạng like when using AUTONOMOUS APs - Only Quản lý / Kiểm soát traffic là sent đến the CLOUD ![image](https://github.com/psaumur/CCNA/assets/106411237/8bd00a94-f965-4257-af46-82be67850feb) ![image](https://github.com/psaumur/CCNA/assets/106411237/93e62771-c2d5-4003-9ade-0d5be855ea66) --- Không dây LAN CONTROLLER (WLC) DEPLOYMENTS - In một SPLIT-MAC Kiến trúc, there FOUR MAIN WLC DEPLOYMENT MODES: - UNIFIED - THE WLC là một HARDWARE APPLICANCE trong một central location của the Mạng - CLOUD-BASED - The WLC là một VM running trên một SERVER, usually trong một PRIVATE CLOUD trong một DATA CENTER - This là NOT the same as the CLOUD-BASED AP Kiến trúc discussed previously - EMBEDDED - The WLC là integrated within một Switch - MOBILITY EXPRESS - THE WLC là integrated within một AP --- UNIFIED WLC - THE WLC là một HARDWARE APPLICANCE trong một central location của the Mạng - A UNIFIED WLC có thể support up đến about 6000 APs - If more than 6000 APs là needed, additional WLCs có thể be added đến the Mạng ![image](https://github.com/psaumur/CCNA/assets/106411237/922eac1f-6c62-4926-89bb-a447f8be2edd) --- CLOUD-BASED - The WLC là một VM running trên một SERVER, usually trong một PRIVATE CLOUD trong một DATA CENTER - CLOUD-BASED WLCs có thể typically support up đến about 3000 APs - If more than 3000 APs là needed, more WLC VMs có thể be deployed ![image](https://github.com/psaumur/CCNA/assets/106411237/9d87546c-6397-48d2-941c-007f5e6440aa) --- EMBEDDED WLC - The WLC là embedded within một Switch - An EMBEDDED WLC có thể support up đến about 200 APs - If more than 200 APs là needed, more SWITCHES với EMBEDDED WLCs có thể be added ![image](https://github.com/psaumur/CCNA/assets/106411237/fc6a79f2-a7b5-4b5a-99d6-b94238362e8e) --- CISCO MOBILITY EXPRESS WLC - The WLC là embedded within một AP - A MOBILITY EXPRESS WLC có thể support up đến about 100 APs - If more than 100 APs là needed, more APs với EMBEDDED MOBILITY EXPRESS WLCs có thể be added ![image](https://github.com/psaumur/CCNA/assets/106411237/4ff02aee-83c9-4a56-8a71-a14e20e8bf3c) 