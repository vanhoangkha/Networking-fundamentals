# 45. NAT (DYNAMIC): PART 2 MORE ABOUT NAT tƒ©nh - NAT tƒ©nh involves statically configuring one-to-one mappings c·ªßa PRIVATE IP ADDRESSES ƒë·∫øn PUBLIC IP ADDRESSES - When traffic t·ª´ the INTERNAL HOST l√† sent ƒë·∫øn the OUTSIDE M·∫°ng, the Router s·∫Ω translate the SOURCE ƒê·ªãa ch·ªâ ![image](https://github.com/psaumur/CCNA/assets/106411237/60ba15dd-ee70-4bd9-b9a7-febf3ebbcd10) - HOWEVER, this one-to-one mapping also allows EXTERNAL HOSTS ƒë·∫øn Truy c·∫≠p the INTERNAL HOST via INSIDE GLOBAL ƒê·ªãa ch·ªâ ![image](https://github.com/psaumur/CCNA/assets/106411237/09de8e06-249c-4185-9d09-ca5fc1435f5a) --- NAT ƒë·ªông - In NAT ƒë·ªông, the Router dynamically maps INSIDE LOCAL ADDRESSES ƒë·∫øn INSIDE GLOBAL ADDRESSES, as needed - An ACL l√† used ƒë·∫øn identify WHICH traffic n√™n be translated - If the SOURCE IP l√† PERMITTED; the SOURCE IP s·∫Ω be translated - If the SOURCE IP l√† DENIED; the SOURCE IP s·∫Ω NOT be translated <aside> üí° However, G√≥i tin Traffic s·∫Ω NOT be dropped </aside> - A NAT POOL l√† used ƒë·∫øn define the available INSIDE GLOBAL ƒê·ªãa ch·ªâ ![image](https://github.com/psaumur/CCNA/assets/106411237/98fe2d7d-345c-4d6b-9772-4b152f9bd7a3) - Although they l√† dynamically assigned, the mappings l√† still one-to-one (one INSIDE LOCAL ƒê·ªãa ch·ªâ IP per INSIDE GLOBAL ƒê·ªãa ch·ªâ IP) - If there l√† NOT enough INSIDE GLOBAL IP ADDRESSES available (=ALL l√† being used), it l√† called ‚ÄòNAT POOL EXHAUSTION‚Äô - If m·ªôt G√≥i tin t·ª´ another INSIDE HOST arrives v√† needs NAT but there l√† no AVAILABLE ADDRESSES, the Router s·∫Ω drop the G√≥i tin - The HOST s·∫Ω be unable ƒë·∫øn Truy c·∫≠p OUTSIDE NETWORKS until one c·ªßa the INSIDE GLOBAL IP ADDRESSES becomes available - NAT ƒë·ªông entries s·∫Ω time out automatically if not used, or you c√≥ th·ªÉ clear them manually NAT POOL EXHAUSTION ![image](https://github.com/psaumur/CCNA/assets/106411237/59c01575-b42f-475b-9502-2f9ed490ca8d) 192.168.0.167 TIMES OUT v√† 192.168.0.98 l√† assigned it‚Äôs TRANSLATED SOURCE IP ![image](https://github.com/psaumur/CCNA/assets/106411237/59e68f3b-8acc-4d7e-8d8e-f930dec3be5f) NAT ƒë·ªông C·∫•u h√¨nh ![image](https://github.com/psaumur/CCNA/assets/106411237/6694689a-4880-497c-a1f6-838003810f0c) `show ip nat translations` ![image](https://github.com/psaumur/CCNA/assets/106411237/5b656147-f61c-4313-9a7e-34bec3ae6fbf) ![image](https://github.com/psaumur/CCNA/assets/106411237/04951fde-f130-43f8-b2ce-05eba6382329) ![image](https://github.com/psaumur/CCNA/assets/106411237/99bb39f3-2ea7-44d2-929e-223755726882) --- DYNAMIC PAT (NAT OVERLOAD) - PAT (NAT OVERLOAD) translates BOTH the ƒê·ªãa ch·ªâ IP v√† the C·ªïng NUMBER (if necessary) - By using m·ªôt unique C·ªïng NUMBER cho each communication flow, a single PUBLIC ƒê·ªãa ch·ªâ IP c√≥ th·ªÉ be used b·ªüi many different INTERNAL HOSTS - C·ªïng NUMBERS l√† 16 bits = over 65,000 available C·ªïng numbers - The Router s·∫Ω keep track c·ªßa which INSIDE LOCAL ƒê·ªãa ch·ªâ l√† using which INSIDE GLOBAL ƒê·ªãa ch·ªâ v√† C·ªïng ![image](https://github.com/psaumur/CCNA/assets/106411237/8f720b58-9700-4908-bd8d-a1846191854b) PAT C·∫•u h√¨nh (POOL) ![image](https://github.com/psaumur/CCNA/assets/106411237/2a1acc30-658c-4479-9984-9c620b5e6ce3) `show ip nat translations` ![image](https://github.com/psaumur/CCNA/assets/106411237/088db6f4-a695-4765-b435-2f20a5e16c9e) PAT C·∫•u h√¨nh (Giao di·ªán) ![image](https://github.com/psaumur/CCNA/assets/106411237/8a3990ff-c58e-44a9-928d-e534f0cff690) ![image](https://github.com/psaumur/CCNA/assets/106411237/557d0217-80d2-4423-ba6a-041703568e13) `show ip nat translations` ![image](https://github.com/psaumur/CCNA/assets/106411237/cae56ec7-38b5-4053-beda-ff670083718e) --- L·ªánh REVIEW ![image](https://github.com/psaumur/CCNA/assets/106411237/fe0655bb-4020-4ddc-bec4-b2fb198e2314) 