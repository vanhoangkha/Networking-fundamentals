# 43. FTP và TFTP Mục đích của FTP / TFTP - FTP (File Transfer Giao thức) and TFTP (Trivial File Transfer Giao thức) are INDUSTRY STANDARD PROTOCOLS used đến TRANSFER FILES over một Mạng - They BOTH use một CLIENT-SERVER model - CLIENTS có thể use FTP / TFTP đến COPY files từ một SERVER - CLIENTS có thể use FTP / TFTP đến COPY files đến một SERVER - As một Mạng ENGINEER, the most common use cho FTP / TFTP là trong the process của UPGRADING the OPERATING SYSTEM của một Mạng Thiết bị - You có thể use FTP / TFTP đến DOWNLOAD the newer version của IOS từ một SERVER và then REBOOT the Thiết bị với the new IOS image ![image](https://github.com/psaumur/CCNA/assets/106411237/c3f8288f-cc21-476b-ab36-685fa843f947) --- TFTP và FTP FUNCTIONS và DIFFERENCES TFTP - TFTP first standardized trong 1981 - Named “Trivial” because it’s SIMPLE và has only basic features compared đến FTP - Only allows một CLIENT đến COPY FILES to / from một SERVER - Was released after FTP, but not một REPLACEMENT cho FTP. - It’s another tool đến use when LIGHTWEIGHT SIMPLICITY là more important than FUNCTIONALITY - NO Xác thực (Username / Mật khẩu) so SERVERS sẽ respond đến ALL FTP REQUESTS - NO Mã hóa. All DATA là sent PLAIN TEXT - Best used trong một CONTROLLED environment đến transfer SMALL FILES quickly - TFTP SERVERS listen trên UDP Cổng 69 - UDP là CONNECTIONLESS và doesn’t provided RELIABILITY với RETRANSMISSIONS - However, TFTP has SIMILAR built-in FEATURES within the Giao thức itself TFTP RELIABILITY - Every TFTP DATA message là ACKNOWLEDGED - If the CLIENT là transferring một FILE đến the SERVER, the SERVER sẽ send ACK messages - If the SERVER là transferring một FILE đến the CLIENT, the CLIENT sẽ send ACK messages - TIMERS là used, and if một EXPECTED message isn’t received trong time, the waiting Thiết bị sẽ RESEND its previous message. ![image](https://github.com/psaumur/CCNA/assets/106411237/6b8f914e-0d8f-4cfd-bbbb-3552b5cebb3e) TFTP “CONNECTIONS” ![image](https://github.com/psaumur/CCNA/assets/106411237/d6634813-5132-4fd8-a712-7bc7b4ea21db) TFTP TID (Not trong the CCNA exam) - When the CLIENT sends the FIRST message đến the SERVER, the DESTINATION Cổng là UDP 69 và the SOURCE Cổng là một random EPHEMERAL Cổng - This “random Cổng” is called a “TRANSFER IDENTIFIER” (TID) and identifies the DATA TRANSFER - The SERVER then also selects một RANDOM TID đến use as một SOURCE Cổng when it replies, NOT UDP 69 - When the CLIENT sends the NEXT message, the DESTINATION Cổng sẽ be the SERVER’S TID, NOT UDP 69 UDP Cổng 69 (TFTP) is only used tại the initial request message ![image](https://github.com/psaumur/CCNA/assets/106411237/5976c631-4cba-4449-a2b4-912f90cb66e1) --- FTP - FTP was first standardized trong 1971 - FTP uses TCP PORTS 20 và 21 - USERNAMES và PASSWORDS là used cho Xác thực, however there là NO Mã hóa - For GREATER Bảo mật, FTPS (FTP over SSL / TLS) can be used (Upgrade đến FTP) - SSH File Transfer Giao thức (SFTP) can also be used cho GREATER Bảo mật (New Giao thức) - FTP là MORE complex than TFTP và ALLOWS not only FILE TRANSFERS but CLIENTS có thể also: - Navigate FILE DIRECTORIES - ADD / REMOVE FILES - LIST FILES - etc… - The CLIENT sends FTP *commands* to the SERVER đến perform these functions FTP Kiểm soát CONNECTIONS - FTP uses TWO TYPES của connections: - An FTP Kiểm soát connection (TCP 21) is established và used đến send FTP commands và replies - When FILES hoặc DATA là đến be transferred, separate FTP DATA (TCP 20) connections là established và terminated as needed ![image](https://github.com/psaumur/CCNA/assets/106411237/8ff1d9a5-785b-4fb4-86a4-766c1107812f) ACTIVE MODE FTP DATA CONNECTIONS - The Default method của establishing FTP DATA connections là ACTIVE MODE trong which the SERVER initiates the TCP connection. ![image](https://github.com/psaumur/CCNA/assets/106411237/49909dbc-1ed5-425b-8958-03fcaf5b9eab) - In FTP PASSIVE MODE, the CLIENT initiates the DATA connection. - This là often necessary when the CLIENT là behind một Tường lửa, which có thể BLOCK the INCOMING CONNECTION từ the SERVER ![image](https://github.com/psaumur/CCNA/assets/106411237/5872df1c-b97f-4f61-b0da-6a06e7f69f1a) FTP VERSUS TFTP ![image](https://github.com/psaumur/CCNA/assets/106411237/e7c11655-61be-40f0-943c-8c51998dc2e2) --- IOS FILE SYSTEMS - A FILE SYSTEM là một way của controlling how DATA là STORED và RETRIEVED - You có thể VIEW the FILE SYSTEM của một Cisco IOS Thiết bị với `show file systems` ![image](https://github.com/psaumur/CCNA/assets/106411237/eb6e12b6-3c34-4e05-93cb-e4368764da74) --- USING FTP / TFTP trong IOS - You có thể VIEW the current version của IOS với `show version` ![image](https://github.com/psaumur/CCNA/assets/106411237/746859c5-d89d-42f5-b198-d0cba7f3682d) - You có thể VIEW the contents của flash với `show flash` ![image](https://github.com/psaumur/CCNA/assets/106411237/d131b08c-572d-46b3-8910-0d423b85dc94) --- COPYING FILES với TFTP STEP 1 ![image](https://github.com/psaumur/CCNA/assets/106411237/f0ce7ea9-115e-4db8-9baf-55ee1bf0d548) STEP 2 ![image](https://github.com/psaumur/CCNA/assets/106411237/9be3610d-3e22-476f-ab90-117ba7d93cf0) STEP 3 ![image](https://github.com/psaumur/CCNA/assets/106411237/604528f7-af5d-44a4-a877-c9d82d7910d1) --- COPYING FILES với FTP STEP 1 ![image](https://github.com/psaumur/CCNA/assets/106411237/0e9c1dc5-0dce-4cbb-b584-0509c2119f63) STEP 2 và 3 identical đến TFTP above --- Lệnh SUMMARY ![image](https://github.com/psaumur/CCNA/assets/106411237/e5f525cd-6e98-4501-9e7c-1c1f4af1d23e) 