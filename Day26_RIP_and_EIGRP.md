# 25. RIP vÃ  EIGRP (IGP : DYNAMIC VECTOR) Äá»‹nh tuyáº¿n INFORMATION Giao thá»©c (RIP) - Äá»‹nh tuyáº¿n Information Giao thá»©c (Industry Standard) - is má»™t DISTANCE VECTOR IGP - uses Äá»‹nh tuyáº¿n-By-Rumor logic Ä‘áº¿n learn/share routes - Uses HOP COUNT as itâ€™s Metric (One Router = One Hop) Bandwidth lÃ  irrelevant - MAX HOP COUNT lÃ  15 (anything more lÃ  considered unreachable) - Has THREE VERSIONS: - RIPv1 vÃ  RIPv2; used cho IPv4 - RIPng (RIP Next Generation) used cho IPv6 - Uses TWO MESSAGE TYPES: - REQUEST : - To ask RIP-ENABLED neighbour ROUTERS Ä‘áº¿n send their Äá»‹nh tuyáº¿n TABLE - RESPONSE: - To SEND the LOCAL Routerâ€™s Äá»‹nh tuyáº¿n TABLE Ä‘áº¿n neighbouring ROUTERS By Default, RIP-Enabled ROUTERS sáº½ share their Äá»‹nh tuyáº¿n TABLE every 30 seconds RIPv1 vÃ  RIPv2 RIPv1: - Only advertises *classful addresses* (Class A, Class B, Class C) - Doesnâ€™t support VLSM, CIDR - Doesnâ€™t include Máº¡ng con MASK information trong ADVERTISEMENTS (RESPONSE messages) - Example: - 10.1.1.0/24 sáº½ become 10.0.0.0 (Class má»™t Äá»‹a chá»‰, so assumed Ä‘áº¿n be /8) - 172.16.192.0/18 sáº½ become 172.16.0.0 (Class B Äá»‹a chá»‰, so assumed Ä‘áº¿n be /16) - 192.168.1.40/30 sáº½ become 172.168.1.0 (Class C Äá»‹a chá»‰, so assumed Ä‘áº¿n be /24) - Messages lÃ  Broadcast Ä‘áº¿n 255.255.255.255 RIPv2: - Supports VLSM, CIDR - Includes Máº¡ng con MASK information trong ADVERTISEMENTS - Messages are **Multicast** to 224.0.0.9 - Broadcast Messages lÃ  delivered Ä‘áº¿n ALL devices trÃªn the local Máº¡ng - Multicast Messages lÃ  delivered only Ä‘áº¿n devices Ä‘áº¿n have joined that specific ***Multicast group*** --- CONFIGURING RIP ![image](https://github.com/psaumur/CCNA/assets/106411237/1d14ec8b-121c-4666-b608-1e5d1889424c) The **â€œMáº¡ngâ€** Lá»‡nh tells the Router to: - Look cho INTERFACES vá»›i má»™t Äá»‹a chá»‰ IP that lÃ  trong the specific RANGE - ACTIVATES RIP trÃªn the INTERFACES that fall trong the RANGE - Form ADJACENCIES vá»›i connected RIP neighbors - Advertise the **Máº¡ng PREFIX cá»§a the Giao diá»‡n** (NOT the prefix trong the â€œMáº¡ngâ€ Lá»‡nh) The OSPF vÃ  EIGRP **â€œMáº¡ngâ€** commands operate trong the same way Because the RIP â€œMáº¡ngâ€ Lá»‡nh lÃ  CLASSFUL. It sáº½ automatically convert Ä‘áº¿n CLASSFUL networks - 10.0.0.0 lÃ  assumed Ä‘áº¿n be 10.0.0.0/8 - R1 sáº½ look cho ANY INTERFACES vá»›i má»™t Äá»‹a chá»‰ IP that matches 10.0.0.0/8 (because it is /8 it only needs Ä‘áº¿n match the FIRST 8 bits) - 10.0.12.1 vÃ  10.0.13.1 both match SO RIP lÃ  ACTIVATED trÃªn G0/0 vÃ  G0/1 - R1 then forms ADJACENCIES vá»›i its neighbors R2 vÃ  R3 - R1 ADVERTISES 10.0.12.0/30 vÃ  10.0.13.0/30 (NOT 10.0.0.0/8) to itâ€™s RIP neighbors ![image](https://github.com/psaumur/CCNA/assets/106411237/2a9452f0-b48f-499d-938f-0a3db5ff6587) - Because the â€œMáº¡ngâ€ Lá»‡nh lÃ  CLASSFUL, 172.16.0.0 lÃ  assumed Ä‘áº¿n be 172.16.0.0/16 - R1 sáº½ look cho ANY INTERFACES that match 172.16.0.0/16 - 172.16.1.14 matches, so R1 sáº½ ACTIVATE RIP trÃªn G2/0 - There lÃ  NO RIP neighbors connected Ä‘áº¿n G2/0 so no NEW ADJACENCIES lÃ  formed - Although there lÃ  NO RIP neighbors, R1 sáº½ still send ADVERTISEMENTS out cá»§a G2/0. - This lÃ  unnecessary traffic, so G2/0 nÃªn be configured as a **passive Giao diá»‡n** ![image](https://github.com/psaumur/CCNA/assets/106411237/634f4c6b-291c-4a21-8ae2-c8283044efce) - the â€œpassive-Giao diá»‡nâ€ Lá»‡nh tells the Router Ä‘áº¿n stop sending RIP advertisements out cá»§a the specified Giao diá»‡n (G2/0) - However, the Router sáº½ continue Ä‘áº¿n ADVERTISE the Máº¡ng prefix cá»§a the Giao diá»‡n (172.16.1.0/28) to itâ€™s RIP neighbors (R2, R3) - You nÃªn ALWAYS use this Lá»‡nh trÃªn INTERFACES which donâ€™t have any RIP neighbors - EIGRP vÃ  OSPF both have the same passive Giao diá»‡n functionality, using the same Lá»‡nh. --- CÃ¡ch ADVERTISE má»™t Default Tuyáº¿n Ä‘Æ°á»ng INTO RIP ![image](https://github.com/psaumur/CCNA/assets/106411237/57de003e-0e8e-48c7-bb72-fbe25208d847) ![image](https://github.com/psaumur/CCNA/assets/106411237/1c500efd-e96b-4e49-b1f4-f99c54b0e877) To SHARE this Default Tuyáº¿n Ä‘Æ°á»ng vá»›i R1â€™s RIP neighbors, using this Lá»‡nh: ![image](https://github.com/psaumur/CCNA/assets/106411237/799d818a-06cc-4f29-8c74-c67639c9d014) RIP doesnâ€™t care about Giao diá»‡n AD cost (RIP cost lÃ  120), only â€œhopsâ€. Since both have má»™t equal number of â€œhopsâ€, both paths appear trong the Default Tuyáº¿n Ä‘Æ°á»ng (Gateway cá»§a Last Resort) ![image](https://github.com/psaumur/CCNA/assets/106411237/1deccb54-02e0-4d3b-b203-277d656504b3) --- â€œshow ip protocolsâ€ (for RIP) ![image](https://github.com/psaumur/CCNA/assets/106411237/b7ab4046-b6eb-4e19-b7eb-2c5d2889293a) â€œMaximum path: 4â€ is the Default but cÃ³ thá»ƒ be changed vá»›i this Lá»‡nh: ![image](https://github.com/psaumur/CCNA/assets/106411237/35d524bd-055d-4c5e-a84b-f507a87738e0) â€œDistanceâ€ (AD) can be changed vá»›i this Lá»‡nh (Default lÃ  120) ![image](https://github.com/psaumur/CCNA/assets/106411237/5247942b-1d6b-419f-a4c7-75bfcca43fe6) --- ENHANCED INTERIOR Gateway Äá»‹nh tuyáº¿n Giao thá»©c (EIGRP) - Enhanced Interior Gateway Äá»‹nh tuyáº¿n Giao thá»©c - is má»™t DISTANCE VECTOR IGP - Was Cisco proprietary, but Cisco has now published it openly so other vendor cÃ³ thá»ƒ implement it trÃªn their equipment - Considered an â€œadvancedâ€ / â€œhybridâ€ DISTANCE VECTOR Äá»‹nh tuyáº¿n Giao thá»©c - Much faster than RIP trong reacting Ä‘áº¿n changes trong the Máº¡ng - Does NOT have the 15 â€˜hop countâ€™ limit cá»§a RIP - Sends messages using Multicast Äá»‹a chá»‰ **224.0.0.10 (Memorize this number)** - Is the ONLY IGP that cÃ³ thá»ƒ perform **unequal**-cost load-balancing (by Default, it performs ECMP load-balancing over 4 paths like RIP) --- Cáº¥u hÃ¬nh cá»§a EIGRP ![image](https://github.com/psaumur/CCNA/assets/106411237/f2b42631-bcb9-4f62-afe9-b7bb1e7e0d7e) â€œRouter EIGRP <Autonomous System number>â€ - The AS (Autonomous System) number pháº£i MATCH between ROUTERS hoáº·c they sáº½ NOT form má»™t ADJACENCY vÃ  share Tuyáº¿n Ä‘Æ°á»ng information - Auto-summary cÃ³ thá»ƒ be ENABLED hoáº·c DISABLED bá»Ÿi Default; depending trÃªn the Router/IOS version. If ENABLED, VÃ´ hiá»‡u hÃ³a it. - The **â€œMáº¡ngâ€** Lá»‡nh sáº½ assume má»™t CLASSFUL Äá»‹a chá»‰, if you donâ€™t specify the Máº¡ng con MASK - EIGRP uses a *wildcard mask* instead cá»§a má»™t regular Máº¡ng con mask A WILDCARD MASK lÃ  an â€œinvertedâ€ Máº¡ng con MASK - All 1â€™s trong the Máº¡ng con MASK lÃ  0 trong the equivalent WILDCARD MASK. - All 0s trong the Máº¡ng con MASK lÃ  1 trong the equivalent WILDCARD MASK. ![image](https://github.com/psaumur/CCNA/assets/106411237/f64e06d3-75ad-4f4f-b7d6-26f27ffae541) â€œ0â€ in the WILDCARD MASK = BITS pháº£i MATCH ! â€œ1â€ in the WILDCARD MASK = Do not have Ä‘áº¿n match ![image](https://github.com/psaumur/CCNA/assets/106411237/13130e3c-de62-4f80-9c7d-256a2ed47e74) ![image](https://github.com/psaumur/CCNA/assets/106411237/1aa2cd2c-397f-4f3b-86ed-81eddf2677a6) ![image](https://github.com/psaumur/CCNA/assets/106411237/500ac3b0-5d83-4691-ab94-06fd330a9111) --- â€œshow ip protocolsâ€ (for EIGRP) ![image](https://github.com/psaumur/CCNA/assets/106411237/f3f169da-d733-4da9-8d8a-c90e2077d8a7) â€œRouter IDâ€ Router ID order cá»§a priority: - Manual Cáº¥u hÃ¬nh - Highest Äá»‹a chá»‰ IP trÃªn má»™t LOOPBACK Giao diá»‡n - Highest Äá»‹a chá»‰ IP trÃªn má»™t PHYSICAL Giao diá»‡n ![image](https://github.com/psaumur/CCNA/assets/106411237/29757624-9e79-4878-8724-36d5da43f39b) â€œDistanceâ€ (AD) EIGRP has TWO VALUES: - Internal = 90 - External = 170 MEMORIZE THESE VALUES! â€œshow ip Tuyáº¿n Ä‘Æ°á»ngâ€ (for EIGRP) ![image](https://github.com/psaumur/CCNA/assets/106411237/8216ceb6-0d3f-42e7-8e5b-46e810097fb8) NOTE the large Metric numbers. This lÃ  má»™t DOWNSIDE Ä‘áº¿n EIGRP - even trÃªn small networks! --- EIGRP Metric - By Default, EIGRP uses BANDWIDTH vÃ  DELAY Ä‘áº¿n calculate Metric - Default â€œKâ€ values are: - K1 = 1, K2 = 0, K3 = 1, K4 = 0, K5 = 0 ğŸ’¡ Simplified calculation : Metric = BANDWIDTH (Slowest Link) + DELAY (of ALL LINKS) --- EIGRP TERMINOLOGY - **Feasible Distance** = This Routerâ€™s Metric value Ä‘áº¿n the Tuyáº¿n Ä‘Æ°á»ngâ€™s DESTINATION - **Reported Distance** (aka **Advertised Distance**) = The neighborâ€™s Metric value Ä‘áº¿n the Tuyáº¿n Ä‘Æ°á»ngâ€™s DESTINATION ![image](https://github.com/psaumur/CCNA/assets/106411237/436ba2c2-43e7-4fea-a527-f88a8e4460bc) - **Successor =** the Tuyáº¿n Ä‘Æ°á»ng vá»›i the LOWEST Metric Ä‘áº¿n the DESTINATION (the best Tuyáº¿n Ä‘Æ°á»ng) - **Feasible Successor** = An alternate Tuyáº¿n Ä‘Æ°á»ng Ä‘áº¿n the DESTINATION (not the best Tuyáº¿n Ä‘Æ°á»ng) which meets the *feasibility condition* **FEASIBILITY CONDITION** : A Tuyáº¿n Ä‘Æ°á»ng lÃ  considered a ***Feasible Successor*** if itâ€™s ***Reported Distance*** is LOWER than the Successor Tuyáº¿n Ä‘Æ°á»ngâ€™s ***Feasible distance*** ![image](https://github.com/psaumur/CCNA/assets/106411237/206db633-3a7e-4d11-bb80-029ea8107503) --- EIGRP : UNEQUAL-COST LOAD-BALANCED ![image](https://github.com/psaumur/CCNA/assets/106411237/23a2045b-a925-4f75-b0f8-78cbae2aa1e2) â€œmaximum Metric variance 1â€ = the Default value Variance 1 = only ECMP (Equal-Cost Multiple Path) load-balancing sáº½ be performed ![image](https://github.com/psaumur/CCNA/assets/106411237/824dac1d-38dc-4e7e-bb48-b382918230ff) Variance 2 = ***feasible successor*** routes vá»›i má»™t FD up Ä‘áº¿n 2x the ***successor*** Tuyáº¿n Ä‘Æ°á»ngâ€™s FD cÃ³ thá»ƒ be used Ä‘áº¿n load-balance ğŸ’¡ EIGRP sáº½ only perform UNEQUAL-COST LOAD-BALANCING over ***feasible successor*** ROUTES. If má»™t Tuyáº¿n Ä‘Æ°á»ng doesnâ€™t meet the ***feasibility condition***, it sáº½ NEVER be selected cho load-balancing, regardless of **variance** 